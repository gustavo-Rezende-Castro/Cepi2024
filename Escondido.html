<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo do Código escondido</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body>
    <!--
    Levante de requisitos
     -- Jogo do numero escondido --
    Nesse jogo o usuário deve escolher o valor máximo para o computador sortear.
    O jogo deve ter uma tela para que o usuário dê o seu palpite e retornar se o 
    usuário acertou ou não.
    Telas:
        -_Inicial_-
        Deve ter um campo onde o usuário vai digitar o próprio nome;
        Deve ter um campo onde o usuário vai digitar o valor máximo;
        Deve ter um botão que iniciará o jogo;

        -_Tela do Jogo_-
        Deve ter um campo para o usuário colocar o palpite;
        Um botão para checar se o palpite está certo;
        Um texto contendo a quantidade de tentativas o valor máximo eo valor mínimo;
    
    O jogo deve checar:
        Se o palpite for menor que o número escondido, o minimo recebe o valor palpite;
        Se o palpite for maior que o número escondido, o máximo recebe o  valor do palpite;
        Se o palpite for igual o número escondido,o jogo mostra:
            Parabéns você achou o número com X tentativas e com acerto de X%;
        Se o valor digitado for maior que o máximo ou menor que o minimo:
            Faça aparecer uma zueira na tela;
        Variáveis:
            nome = Para guardar o nome do usuário;
            valor = Para guardar o valor Máximo a ser sorteado;
            palpite = Para guardar o palpite do usuário;
            num = Para guardar Mat.floor(Math.random()*valor);
            max = Inicialmente o valor e depois o válor máximo disponível;
            min = O valor mínimo disponível;
            tentativa = Para guardar a quantidade de tentativas;
    -->
    <div class="mx-auto rounded border border-warning" style="width: 300px; padding: 15pt" id="jogo">
        <h1>Jogo do número escondido</h1>
        <div id="inicio" class=" container">
            <input class="btn-block" type="text" id="nome" placeholder="Digite seu nome">
            <br><!--Campo para digitar e guardar o nome do usuário-->
            <label for="">Digite um número maior que 0</label>
            <input class="btn-block" type="text" id="valor" min="1">
            <br><!--Campo para digitar o valor máximo a ser sorteado-->
            <button class="btn btn-block btn-lg btn-warning " onclick="sortear()">Começar</button>
            <!--Campo para chamar a função sortear-->
        </div>
        <div id="tela"></div>
    </div>
</body>
<footer>
<script>
let nome="", valor=0, tentativas=0,min=0, max=0,num=0, palpite=0;
function sortear(){
    valor=document.getElementById("valor").value;
    nome=document.getElementById("nome").value;
    num=Math.floor(Math.random()*valor);
    max=valor;
    //alert(num);
    //alert(nome);
    document.getElementById("inicio").innerHTML="";
    jogar();
}
function jogar(){
    document.getElementById("tela").innerHTML=
    "Olá "+nome+", dê um palpite sobre o numero escondido <br>"+
    "Esse numero está entre "+min+" e "+max+". Qual o seu palpite?<br>"+
    "<input type='number' min=0 id='palpite'> <br>"+
    "<button onclick='checar()'>Checar</button>"
}
function checar(){
    tentativas++;
    palpite=document.getElementById("palpite").value;
    //alert(palpite);
    if(palpite==num){
        alert("Você acertou");
        fim();
    }else{
        alert("Errou");
        if(palpite>num){
            max=palpite;
        }if(palpite<num){
            min=palpite;
        }else{
            alert("tu digitou um valor que não está entre "+min+" e "+max)
        }
        jogar();
    }
}
function fim(){
    document.getElementById("tela").innerHTML=
    "Parabéns "+nome+", você achou o número escondido: "+num+
    "<br>Com "+tentativas+" tentativas. Sua porcentagem de acerto é de "+
    "<h2>"+tentativas/valor+"%</h2><br>"+
    "<button onclick='location.reload()'>Jogar Novamente</button> "
}
</script>
</footer>
</html>